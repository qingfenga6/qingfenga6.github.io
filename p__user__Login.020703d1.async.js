(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(I){I.exports={container:"container___1sYa-"}},59786:function(I,T,r){"use strict";r.r(T),r.d(T,{default:function(){return le}});var ce=r(58024),_=r(91894),me=r(57663),D=r(8573),fe=r(47673),x=r(84391),O=r(39428),he=r(34792),j=r(55026),ee=r(3182),ge=r(82471),s=r(95784),ve=r(18106),$=r(57910),y=r(2824),te=r(80517),re=r.n(te),S=r(67294),w=r(25377),ae=r(34687),ne=r.n(ae),U=r(89366),R=r(2603),K=r(64302),oe=r(11849),e=r(85893);function V(N){var z=N.state,P=N.changeRadomNumber,H=(0,S.useRef)(),a=(0,oe.Z)({codeLength:4,fontSizeMin:20,fontSizeMax:25,backgroundColorMin:100,backgroundColorMax:200,colorMin:10,colorMax:100,lineCount:2,lineColorMin:10,lineColorMax:180,dotCount:0,dotColorMin:60,dotColorMax:120,contentWidth:100,contentHeight:30,isNumber:!1},z);(0,S.useEffect)(function(){W()},[]);function L(){W()}function W(){B()}function l(t,n){return Math.floor(Math.random()*(n-t)+t)}function B(){for(var t="",n=a.isNumber,h=n?"1234567890":"QWERTYUIOPLKJHGFDSAZXCVBNMqwertyuioplkjhgfdsazxcvbnm1234567890",m=0;m<a.codeLength;m++){var g=Math.floor(Math.random()*(n?10:62));t+=h[g]}P(t);var F=H.current,d=F.getContext("2d");d.textBaseline="bottom",d.fillStyle=M(a.backgroundColorMin,a.backgroundColorMax),d.fillRect(0,0,a.contentWidth,a.contentHeight);for(var u=0;u<t.length;u++)A(d,t[u],u,t);E(d),b(d)}function M(t,n){var h=l(t,n),m=l(t,n),g=l(t,n);return"rgb(".concat(h,", ").concat(m,", ").concat(g,")")}function E(t){for(var n=0;n<a.lineCount;n++)t.strokeStyle=M(a.lineColorMin,a.lineColorMax),t.beginPath(),t.moveTo(l(0,a.contentWidth),l(0,a.contentHeight)),t.lineTo(l(0,a.contentWidth),l(0,a.contentHeight)),t.stroke()}function b(t){for(var n=0;n<a.dotCount;n++)t.fillStyle=M(a.dotColorMin,a.docColorMax),t.beginPath(),t.arc(l(0,a.contentWidth),l(0,a.contentHeight),1,0,2*Math.PI),t.fill()}function A(t,n,h,m){t.fillStyle=M(a.colorMin,a.colorMax);var g=l(a.fontSizeMin,a.fontSizeMax);t.font="".concat(g,"px arial");var F=10,d=(a.contentWidth-40)/(m.length-1),u=F;h>0&&(u=F+h*d);var p=l(a.fontSizeMax,a.contentHeight-5);g>40&&(p=40);var C=l(-10,10);t.translate(u,p),t.rotate(C*Math.PI/180),t.fillText(n,0,0),t.rotate(-C*Math.PI/180),t.translate(-u,-p)}return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("canvas",{onClick:L,ref:H,width:a.contentWidth,height:a.contentHeight})})}var Y=r(82911),se=function(){var z=(0,S.useState)({}),P=(0,y.Z)(z,2),H=P[0],a=P[1],L=(0,w.tT)("@@initialState"),W=L.initialState,l=L.setInitialState,B=$.Z.TabPane,M=s.Z.useForm(),E=(0,y.Z)(M,1),b=E[0],A=s.Z.useForm(),t=(0,y.Z)(A,1),n=t[0],h=(0,S.useState)(""),m=(0,y.Z)(h,2),g=m[0],F=m[1],d=(0,S.useState)(""),u=(0,y.Z)(d,2),p=u[0],C=u[1],ie=(0,S.useState)("1"),G=(0,y.Z)(ie,2),J=G[0],Q=G[1],ue=(0,w.YB)(),de=function(i){Q(i),b.resetFields(),n.resetFields(),C("")},X=function(i){F(i),console.log(i)},k=function(){var Z=(0,ee.Z)((0,O.Z)().mark(function i(c){var f,v,q;return(0,O.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,g.toLocaleLowerCase()===p.toLocaleLowerCase()){o.next=4;break}return j.ZP.error("\u9A8C\u8BC1\u7801\u9519\u8BEF"),o.abrupt("return");case 4:if(J!=="1"){o.next=25;break}return console.log("\u767B\u5F55"),console.log(c),o.next=9,(0,Y.b)({us:c.username,ps:c.password});case 9:if(f=o.sent,console.log(f),(f==null?void 0:f.msg)!=="\u767B\u5F55ok"){o.next=21;break}return j.ZP.success("\u767B\u5F55\u6210\u529F"),sessionStorage.setItem("token",f.info.token),sessionStorage.setItem("UserInfo",JSON.stringify(f.info)),sessionStorage.setItem("username",c.username),sessionStorage.setItem("password",c.password),location.replace("/home"),o.abrupt("return");case 21:j.ZP.error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF");case 22:a(f),o.next=32;break;case 25:return console.log("\u6CE8\u518C"),console.log(c),o.next=29,(0,Y.z)({us:c.username,ps:c.password});case 29:v=o.sent,console.log(v),(v==null?void 0:v.msg)==="\u6CE8\u518Cok"?(j.ZP.success("\u6CE8\u518C\u6210\u529F"),Q("1"),b.resetFields(),n.resetFields(),C("")):j.ZP.error("\u6CE8\u518C\u5931\u8D25");case 32:o.next=38;break;case 34:o.prev=34,o.t0=o.catch(0),q=ue.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),j.ZP.error(q);case 38:case"end":return o.stop()}},i,null,[[0,34]])}));return function(c){return Z.apply(this,arguments)}}();return(0,e.jsx)("div",{style:{background:"url(".concat(re(),") center center / 100% 100% no-repeat")},className:ne().container,children:(0,e.jsx)(_.Z,{style:{borderRadius:"19px",width:"400px"},children:(0,e.jsxs)($.Z,{centered:!0,defaultActiveKey:"1",activeKey:J,onChange:de,children:[(0,e.jsx)(B,{tab:"\u767B\u5F55",children:(0,e.jsxs)(s.Z,{form:b,labelCol:{span:5},name:"basic",onFinish:k,autoComplete:"off",children:[(0,e.jsx)(s.Z.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\uFF01"}],children:(0,e.jsx)(x.Z,{prefix:(0,e.jsx)(U.Z,{}),autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})}),(0,e.jsx)(s.Z.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}],children:(0,e.jsx)(x.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",prefix:(0,e.jsx)(R.Z,{autoComplete:"off"})})}),(0,e.jsx)(s.Z.Item,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,e.jsx)(x.Z,{prefix:(0,e.jsx)(K.Z,{}),type:"text",placeholder:"\u9A8C\u8BC1\u7801",value:p,style:{width:"70%",marginRight:"10px"},onChange:function(i){C(i.target.value)}}),(0,e.jsx)(V,{changeRadomNumber:X})]})}),(0,e.jsx)(s.Z.Item,{children:(0,e.jsx)(D.Z,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"\u767B\u5F55"})})]})},"1"),(0,e.jsx)(B,{tab:"\u6CE8\u518C",children:(0,e.jsxs)(s.Z,{form:n,labelCol:{span:5},name:"basic",onFinish:k,autoComplete:"off",children:[(0,e.jsx)(s.Z.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\uFF01"}],children:(0,e.jsx)(x.Z,{prefix:(0,e.jsx)(U.Z,{}),autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})}),(0,e.jsx)(s.Z.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"}],children:(0,e.jsx)(x.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",prefix:(0,e.jsx)(R.Z,{autoComplete:"off"})})}),(0,e.jsx)(s.Z.Item,{name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801\uFF01"},function(Z){var i=Z.getFieldValue;return{validator:function(f,v){return!v||i("password")===v?Promise.resolve():Promise.reject(new Error("\u5BC6\u7801\u4E0E\u786E\u8BA4\u5BC6\u7801\u4E0D\u4E00\u81F4!"))}}}],children:(0,e.jsx)(x.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801",prefix:(0,e.jsx)(R.Z,{autoComplete:"off"})})}),(0,e.jsx)(s.Z.Item,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],children:(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,e.jsx)(x.Z,{prefix:(0,e.jsx)(K.Z,{}),type:"text",placeholder:"\u9A8C\u8BC1\u7801",value:p,style:{width:"70%",marginRight:"10px"},onChange:function(i){C(i.target.value)}}),(0,e.jsx)(V,{changeRadomNumber:X})]})}),(0,e.jsx)(s.Z.Item,{children:(0,e.jsx)(D.Z,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"\u6CE8\u518C"})})]})},"2")]})})})},le=se},80517:function(I,T,r){I.exports=r.p+"static/bj.b17bbe19.jpg"}}]);
